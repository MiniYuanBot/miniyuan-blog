---
import { ICONS, type IconKey } from "../icons";

export interface Props {
    name: IconKey;
    class?: string;
    viewBox?: string;
    variant?: "fill" | "stroke";
    [key: string]: any;
}

const {
    name,
    class: className = "",
    viewBox = "0 0 24 24",
    variant = "stroke",
    ...attrs
} = Astro.props;

const innerContent = ICONS[name];

const svgProps = variant === "fill" 
    ? {
        fill: "currentColor",
        stroke: "none",
    }
    : {
        fill: "none",
        stroke: "currentColor",
        "stroke-width": "2",
        "stroke-linecap": "round" as const,
        "stroke-linejoin": "round" as const,
    };
---

{
    innerContent ? (
        <svg
            xmlns="http://www.w3.org/2000/svg"
            class:list={["shrink-0", className]}
            viewBox={viewBox}
            {...svgProps}
            {...attrs}
            set:html={innerContent}
        />
    ) : null
}